<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<title>Final</title>
		<style>
        body {
            font-size: 1.5em ;
        }
		.page {
			width: 11.5in ;
			margin: auto ;
		}
		.page_outer {
			width: 11in;
			box-shadow: -.1in -.1in .25in darkgray, .1in .1in .25in gray;
			position: relative ;
		}
		.page_inner{
			margin: 1in;  
			margin-top: .5in;  
		}
        .details, .show, .hide:target {
            display: none;
        }
        .hide:target + .show, .hide:target ~ .details {
            display: block;
        }
        table, th, td {
          border: 1px solid white;
          border-collapse: collapse;
        }
		</style>
		<style type="text/css" media="print">
			.page {
				width: 8.5in;
				height: 11in;
				margin: auto ;
			}
			.page_outer {
				box-shadow: none;
			}
			a {
				color: black;
				text-decoration-line: none;
			}
		</style>
	</head>
	<body>
		<div class="page">
			<div style="height:.25in;"> <!-- Vertical space adjuster for box shadow --></div>
			<div class="page_outer">
				<div style="height:.25in;"> <!-- Vertical space adjuster for box shadow --></div>
				<div class="page_inner"><center>
					<h4>CS 151: Intro to Programming in Python</h4>
					<h1>Final</h1>
                    <h3>3 hours</h3>
                    
                    </p><hr>
                    </center>
                    <div>
                        <a id="hidea" href="#hidea" class="hide"><h3>A. Rubric [Show]</h3></a>
                        <a id="showa" href="#showa" class="show"><h3>A. Rubric [Hide]</h3></a>
                        <div class="details">
                            <h3>Grading</h3>
                            <p>I have provided a sample template the produces a graphic (a white square) and creates no errors. This is worth 0 points. Additional milestones yield additional points.
                            <p style="font-weight:bold;color:red">Any code that (1) errors, or (2) produces no graphic, is a worse solution than this template and is worth less than zero points</p>
                            <p>Do no submit code that does not run.
                            <p>There are no tasks in this assignment for which working code is not present both within course materials (slides and the textbook) and within one of the ImageShop, Enigma, and Adventure projects.
                            <h3>Difficulty</h3>
                            <p>This exam has been made of appropriate 
difficulty for students to achieve an honest assessment of their 
progress this term with access to all available resources. It is hard 
for me to forecast the appropriate difficulty so you should focus on 
doing your best and I will ensure you receive a fair grade.
                            </p><p>Here is an example of a grading scale
 used for a similarly designed course at Cornell that I also used in CS 
271 last year. As you see, I may use a curve.
                            </p><center><img src="imgs/curve.png"></center>
                        </div>
                    </div>
                    <hr>
                    <div>
                        <a id="hideb" href="#hideb" class="hide"><h3>B. Intro [Show]</h3></a>
                        <a id="showb" href="#showb" class="show"><h3>B. Intro [Hide]</h3></a>
                        <div class="details">
                            <h2>Intro</h2>
                            <p>Github Classroom Link: https://classroom.github.com/a/ + ??? (ask)
                            <p>This will be a project-style final exam, restricted to be completable in 3 hours.
                            </p><p>There are 5 milestones corresponding to exam problems:
                            </p><ul>
                                <li>Prob0 is "Strings and Files"
                                </li><li>Prob1 is "Interactive Graphics"
                                </li><li>Prob2 is "Reading Python"
                                </li><li>Prob3 is "Defining Classes"
                                </li><li>Prob4 is "Fundamental Python"
                            </li></ul>
                            <p>After focusing this term on many of the 
famous historical computer scientists who programmed computers, this 
assignment focuses on the people and the land that make physical 
computing devices. It is centered on the plurinational state of Bolivia 
and whose lithium mines and miners form a critical part of the global 
technology landscape, specifically a flag used by the peoples that live 
within those mountains and work within thoe mines.
                            </p><p>The people of Andes have been 
fighting to maintain self-determination (what people in the US often 
call "independence") in the face of large US-based tech companies for 
years, and we should be cognizant of their struggle and their story.
                            </p><p>You can read more in imgs/README.md at your leisure.
                        </p></div>
                    </div>
					<hr>
                    <div>
                        <a id="hidec" href="#hidec" class="hide"><h3>C. Files [Show]</h3></a>
                        <a id="showc" href="#showc" class="show"><h3>C. Files [Hide]</h3></a>
                        <div class="details">
                            <h2>Files:</h2>
                            <h3></h3>
                            <ul>
                                <li>Update these files:
                                <ul>
                                    <li>flag.py</li>
                                    <li>ColorObj.py</li>
                                </ul>
                                </li><li>You will also need code files:
                                <ul>
                                    <li>pgl.py</li>
                                </ul>
                                </li><li>You will also need data files:
                                <ul>
                                    <li>rgbs.txt</li>
                                    <li>imgs/</li>
                                    <ul>
                                        <li>rojo.png
                                        </li><li>naranja.png
                                        </li><li>amarillo.png
                                        </li><li>blanco.png
                                        </li><li>verde.png
                                        </li><li>azul.png
                                        </li><li>violeta.png</li>
                                    </ul>
                                </ul>
                                <li>Provided for ethical reasons:
                                <ul>
                                    <li>imgs/README.md</li>
                                </ul>
                                
                            </li></ul>
                            <hr>
                            <h4>Resources on PGL (Portable Graphics Library):</h4>
                            <ul>
                                <li><a href="https://jrembold.github.io/Website_Backup/class_files/cs151/PythonSummary.html">Prof. Jed Rembold notes on PGL (and more)</a>
                                </li><li><a href="https://willamette.edu/~esroberts/python/pgldoc/">Prof. Eric Roberts notes on PGL</a>
                            </li></ul>
                        </div>
                    </div>
                    <hr>
                    <div>
                        <div>
                        <a id="hide0" href="#hide0" class="hide"><h3>0. get_color_at (10 pts) [Show]</h3></a>
                        <a id="show0" href="#show0" class="show"><h3>0. get_color_at (10 pts) [Hide]</h3></a>
                        <div class="details">
                            <em><b>Implement</b></em> <code>__init__</code> <em><b>and</b></em> <code>get_color_at</code> <em><b>in</b></em> <code>ColorObj.py</code>
                            <p>When you first download the template code
 and run "flag.py" you should get a 700 by 700 blank image. This is 
because the example code uses the color from ColorObj, and ColorObj is 
not yet implemented.
                            </p><p>For Prob0, you should update <code>__init__</code> and <code>get_color_at</code>
 to return an appropriate color given some initializing name. These 
names should correspond to the colors included in color.py and are:
                            </p><ul>
                                <li>rojo
                                </li><li>naranja
                                </li><li>amarillo
                                </li><li>blanco
                                </li><li>verde
                                </li><li>azul
                                </li><li>violeta
                            </li></ul>
                            <p>To determine the color, you will need to read it from the file <code>rgbs.txt</code>
                            <h4>0a. <code>read_rgbs</code></h4>
                            <p>Two important pieces of information are stored in <code>rgbs.txt</code>:
                            <ol>
                                <li>The order of colors, and
                                <li>The red-green-blue (rgb) color values of colors.
                            </ol>
                            <p>Write a function <code>read_rgbs</code> that reads the file <code>rgbs.txt</code> for this information. My <code>read_rgbs</code> returned a list (in the order colors were given) of <code>ColorObj</code> objects that stored the name and rgb values of a color.
                            <h4>0b. <code>get_color_at</code></h4>
                            <p>For each of the colors from the file, create a <code>ColorObj</code> that stores the color name, the color rgb value, and can store other information in the future.
                            <p>You may wish to use <code>GImage.create_rgb_pixel</code> to additional store a pixel that corresponds to that color, at least for now.
                            <p>Write <code>ColorObj.get_color_at</code> such that it returns a pixel of the appropriate color regardless of the row-by-col location provided. We will use row-by-col locations on latter problems.
                            </p><p>Here is an example:
                            </p><hr><pre><code>rojo = colors[0]
rojo.get_color_at(500,500) # 4292545043</code></pre><hr>
                            <p>You can check this value using a print statement.
                            <p>You will be able to tell when you 
have correctly implement these two methods when your graphics window 
changes from the default white to the "rojo" color.
                            </p><center><img src="imgs/rojo_only.png"></center>
                        </div>
                    </div>
                    <hr>
                        <div>
                        <a id="hide1" href="#hide1" class="hide"><h3>1. <code>flag</code> (20 pts) [Show]</h3></a>
                        <a id="show1" href="#show1" class="show"><h3>1. <code>flag</code> (20 pts) [Hide]</h3></a>
                        <div class="details">
                            <em><b>Implement</b></em> <code>flag</code> <em><b>in</b></em> <code>flag.py</code>
                            <p>This is what the flag we hope to make looks like:
                            </p><center>
                            <a title="Huhsunqu, Public domain, via Wikimedia Commons" ><img width="512" alt="Flag, representing the historical Qulla Suyu, designed in 1979 by Germán Choque Condori." src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/Wiphala.svg/512px-Wiphala.svg.png?20120414085158"></a></center>
                        <p>Specifically, this flag has its longest 
diagonal in white, which corresponds to the "Qullasuyu" flag. We will 
enable other flags in Prob2. 
                            <p>For this and all following problems, you 
should use your ColorObj's for each of the 7 flag colors that you made 
in Prob0 - mostly take make things easier in the future.
                            </p><p>Loop over the pixels in the pixel array used within the <code>flag</code> function, and for each row-by-col location determine from which ColorObj the current pixel should be "gotten" with <code>get_color_at</code>.
 For example, along the long diagonal, the "blanco" ColorObj 
would be appropriate. 
                            </p><p>There are both technically and 
algorithimically correct ways to do this. Look at the patterns in rows, columns, and diagonals, and remember colors from a file came in a certain order. Before implementing a brute force solution, you may wish to read Prob2.
                            </p><p>You are ready to move onto the next problem when you have made the flag.
                        </p></div>
                    </div>
                    <hr>
                    <div>
                        <a id="hide2" href="#hide2" class="hide"><h3>2. Region (20 pts) [Show]</h3></a>
                        <a id="show2" href="#show2" class="show"><h3>2. Region (20 pts) [Hide]</h3></a>
                        <div class="details">
                            <em><b>Implement the region argument to</b></em> <code>flag</code> <em><b>in</b></em> <code>flag.py</code>
                            <p>This flag represents Indigenous people 
across what is today termed the "Andes", and the flag with long "blanco"
 diagonal often specifically represents the "Qullasuyu" (Qulla region). There 
are other regions that have other colors on the long diagonal, but are 
otherwise identical. Here are the examples you must be able to make:
                            <table style="width:100%;text-align:center">
                                <tr>
                                    <th style="width:50%;">Suyu</th>
                                    <th style="width:50%;">Color</th>
                                <tr>
                                <tr>
                                    <td>Chinchaysuyu</td>
                                    <td>rojo</td>
                                </tr>
                                <tr>
                                    <td>Kuntisuyu</td>
                                    <td>amarillo</td>
                                </tr>
                                <tr>
                                    <td>Qullasuyu</td>
                                    <td>blanco</td>
                                </tr>
                                <tr>
                                    <td>Antisuyu</td>
                                    <td>verde</td>
                                </tr>
                            </table>
                            <p>Update the <code>flag</code> function to 
accept any of these suyus. You are ready to move on when your code may produce flags like the 
following:
                            </p><table style="width:100%">
                                <tbody><tr>
                                    <th style="width:33%"><code>flag('Qullasuyu')</code></th>
                                    <th style="width:33%"><code>flag('Antisuyu')</code></th>
                                    <th style="width:33%"><code>flag('Chinchaysuyu')</code></th>
                                </tr>
                                <tr>
                                    <th><img width="80%" src="https://upload.wikimedia.org/wikipedia/commons/6/65/Wiphala.svg"></th>
                                    <th><img width="80%" src="https://upload.wikimedia.org/wikipedia/commons/b/b6/Banner_of_the_Anti_Suyu.svg"></th>
                                    <th><img width="80%" src="https://upload.wikimedia.org/wikipedia/commons/1/14/Banner_of_the_Chinchay_Suyu.svg"></th>
                            </tr></tbody></table>
                        </div>
                    </div>
                    <hr>
                    <div>
                        <a id="hide3" href="#hide3" class="hide"><h3>3. Pixel Array (30 pts) [Show]</h3></a>
                        <a id="show3" href="#show3" class="show"><h3>3. Pixel Array (30 pts) [Hide]</h3></a>
                        <div class="details">
                            <em><b>Store images that correspond to colors rather than color data in</b></em> <code>ColorObj</code> <em><b>in</b></em> <code>ColorObj.py</code>
                            <p>In brief, the flag colors represent 
aspects of Plurinational Andean life and I have chosen images from to 
represent these aspects as best as I can, which are included in the <code>imgs</code> folder with the starter code, named for the color to which the image corresponds.
                            </p><p>For this milestone, instead of returning a literal color value from the <code>ColorObj</code>, return a metaphorical color value from an image at the same row-by-col location.
                            </p><ul>
                                <li>Read these images from their files using <code>GImage</code>
                                <ul>
                                    <li>For example, the "rojo" image is located at "imgs/rojo.png"
                                </ul>
                                </li><li>Extract the pixel array from the <code>GImage</code> using <code>.get_pixel_array()</code>
                                </li><li>3a. Crop the images to be squares, like the flag
                                </li><li>3b. Resize the images to exactly fill the GWINDOW_SIZE
                                </li><li>Update <code>get_color_at</code> to get a pixel from the image pixel array, rather than returning a single color in all cases.
                            </li></ul>
                            <p>You are not required to do 3a and 3b 
separately, and will receive the full 30 pts if your Prob3 is correct. 
However, if you struggle on Prob3, you may receive partial credit for 
these methods.
                            </p><h4>3a. <code>square</code> (10 pts)</h4>
                            <p>Each image in the <code>imgs</code> 
folder is not a square, and the flag is. For each pixel 
array, remove pixels from
 the left/right or top/bottom to make it square and centered.
                            </p><p><em>Example</em> <code>verde.png</code>
 shows a Bolivia lithium mine, "el símbolo de las riquezas naturales" 
(the symbol of the natural resources), that is 800 pixels wide and 448 
pixels tall.
                            </p><center><a title="Oton Barros (DSR/OBT/INPE), Coordenação-Geral de Observação da Terra/INPE, http://www.dsr.inpe.br, CC BY-SA 2.0 &lt;https://creativecommons.org/licenses/by-sa/2.0&gt;, via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File:Lithium_mine_at_Bolivia%C2%B4s_Uyuni_Salt_Flat,_on_a_CBERS4_MUX_yesterday%C2%B4s_image.jpg"><img height="300" alt="Lithium mine at Bolivia´s Uyuni Salt Flat, on a CBERS4 MUX yesterday´s image" src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Lithium_mine_at_Bolivia%C2%B4s_Uyuni_Salt_Flat%2C_on_a_CBERS4_MUX_yesterday%C2%B4s_image.jpg/512px-Lithium_mine_at_Bolivia%C2%B4s_Uyuni_Salt_Flat%2C_on_a_CBERS4_MUX_yesterday%C2%B4s_image.jpg?20200409101456"></a></center>
                            <p>By changing the corresponding pixel 
array, it is possible to create a pixel array that corresponds to the 
following, square image which is centered within the existing image:
                            </p><center><img height="300" src="imgs/square.png"></center>
                            <h4>3b. <code>resize</code> (10 pts)</h4>
                            <p>Not all of the images will be the exact 
size as our GWINDOW, but it would be nice if they were. There are many 
ways to solve this problem, here I will describe one.
                            </p><p>One way to resize images is via creating a 
pixel array of the appropriate size and looping over the entire array, 
selecting pixels from the original sized image that are in the same 
relative (e.g. percentage, proportional, fractional) distance across the image in height and 
width, but may have a different numerical row-by-col location as the numbers of 
rows/cols differs.
                            </p><p>For example, the above image is 448 
by 448 pixels, and there is a patch of teal in the center of the image, 
at around 200-250 by 200-250 pixels. In a 700 by 700 image, that teal 
patch should be around 300-350 pixels, or so.
                            </p><h4>3. Finishing Touches</h4>
                            <em>Of note, you can test squaring and 
resizing separately prior to this step by simply displaying the pixel 
arrays as GImages in the GWindow</em>
                            <p>Once you have pixel arrays that correspond to images within your <code>ColorObj</code>'s, running <code>flag.py</code> should produce an image something like this:
                            </p><center><img src="imgs/naive.png"></center>
                            <p>Note the diagonal showing people in 
labcoats - these are engineers of UMSA, the leading public university in
 Bolivia, and represent "blanco" which stands for "el desarrollo de la ciencia y la tecnología" 
(scientific and technologically progress). You can likely also identify 
the lithium mine.
                        </p></div>
                    </div>
                    <hr>
                    <div>
                        <a id="hide4" href="#hide4" class="hide"><h3>4. ColorScale (20 pts) [Show]</h3></a>
                        <a id="show4" href="#show4" class="show"><h3>4. ColorScale (20 pts) [Hide]</h3></a>
                        <div class="details">
                            <em><b>Implement</b></em> <code>colorscale</code> <em><b>in</b></em> <code>ColorObj</code> <em><b>in</b></em> <code>ColorObj.py</code>
                            <p>Our new image does not look so much like 
the flag we started with, so we will use the same idea as 
ImageShop.GrayscaleImage to take colorful images and make them look like
 one color - but in this case, flag colors rather than simply gray.
                            </p>
                            </p><ul><li>Implement <code>colorscale</code> (10pts)
                                <ul>
                                    <li>For every pixel in a pixel array, calculate the luminence.
                                    </li><li>Given the luminence, calculate a red, green, and blue value
                                    </li><li>The brightest value (255) should be the named color, 
                                    <ul>
                                        <li>E.g. "rojo", is roughly [220,10,20] (red).
                                        <li>So 255 corresponds to 210 for red, 10 for green, and 20 for blue (for rojo)
                                    </ul>
                                    </li><li>The darkest value (0) should be [0, 0, 0] (black) in all cases.
                                    </li><li>Convert these rgb values back to a pixel value with <code>GImage.create_rgb_pixel</code>
                                </li></ul>
                                <li>Apply <code>colorscale</code> to pixel maps within the initializer.
                                <li>Ensure <code>flag.py</code> correctly displays colorscaled images (10pts)
                            </li></ul>
                            <em>Of note, the colorscale will be equivalent to "grayscale" for the color "blanco" (white).</em>
                            
                            <p>Once you have read in rgb values and 
colorscaled the pixel arrays within each ColorObj, your code should 
produce an image like the following:
                            </p><center><img src="imgs/colorscaled.png"></center>
                            <p>Such an image is indicative of a perfect score on the final exam. Well done! Turn in your code and have a wonderful break.
                        </p></div>
                    </div>
                    <hr>
                    <div>
                        <a id="hide5" href="#hide5" class="hide"><h3>Extra Credit (5 pts) [Show]</h3></a>
                        <a id="show5" href="#show5" class="show"><h3>Extra Credit (5 pts) [Hide]</h3></a>
                        <div class="details">
                            <p>Fill out this survey on sections for +5 extra credit.  <a href="https://docs.google.com/forms/d/e/1FAIpQLScOWqXta_3JlJyFUBZx7RGgxQ_hTxcZAafQqPhDcfBUQbe6hg/viewform">Link.</a>
                            <p>Extra credit for faculty candidate talks was previously announced.
                        </p></div>
                    </div>
                    <hr>
                    <div style="height:1in;"> <!-- Vertical space adjuster for box shadow --></div>
				</div>
			</div>
		</div>
	

</div></body></html>
